api:
  dashboard: true

entryPoints:
  http:
    address: ":80"
  https:
    address: ":443"

# CA server to use.
# - Uncomment BOTH lines to run on the staging let's encrypt server.
# - Leave comments to go to prod.
#acme:
#  caServer: https://acme-staging.api.letsencrypt.org/directory

providers:
  docker:
    endpoint: "unix:///var/run/docker.sock"
    exposedByDefault: false

# for HTTP-01 challenge
certificatesResolvers:
  http:
    acme:
      # - Uncomment caServer line below to run on the staging let's encrypt server.  Leave comment to go to prod.
      caServer: https://acme-staging.api.letsencrypt.org/directory
      email: digital@grinnell.edu
      storage: acme.json
      httpChallenge:
        entryPoint: http

# # for DNS-01 challenge
# certificatesResolvers:
#   http:
#     acme:
#       # - Uncomment caServer line below to run on the staging let's encrypt server.  Leave comment to go to prod.
#       caServer: https://acme-staging.api.letsencrypt.org/directory
#       email: digital@grinnell.edu
#       storage: acme.json
#       dnsChallenge:
#         provider: azure

log:
  level: DEBUG
  filePath: /opt/containers/traefik/logs/traefik.log
